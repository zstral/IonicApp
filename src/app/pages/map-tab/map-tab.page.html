<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-title>Ubicación en Tiempo Real (OpenStreetMap)</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <div id="osm_map" style="width: 100%; height: 60vh;"></div>

  <ion-card class="ion-margin-top" *ngIf="latitude && longitude">
    <ion-card-header>
      <ion-card-title>Tu Ubicación Actual</ion-card-title>
    </ion-card-header>
    <ion-card-content>
      <p>Latitud: {{ latitude | number:'1.5-5' }}</p>
      <p>Longitud: {{ longitude | number:'1.5-5' }}</p>
      <p *ngIf="accuracy">Precisión: {{ accuracy | number:'1.0-0' }} metros</p>
      <p *ngIf="timestamp">Última actualización: {{ timestamp | date:'mediumTime' }}</p>
    </ion-card-content>
  </ion-card>

  <ion-spinner *ngIf="!latitude || !longitude" name="crescent"></ion-spinner>
  <p *ngIf="!latitude || !longitude" class="ion-text-center">Obteniendo ubicación...</p>
  <p *ngIf="error" class="ion-text-center ion-text-danger">{{ error }}</p>

</ion-content>